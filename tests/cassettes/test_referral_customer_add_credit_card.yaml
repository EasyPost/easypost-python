interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      authorization:
      - <REDACTED>
      user-agent:
      - <REDACTED>
    method: GET
    uri: https://api.easypost.com/v2/partners/stripe_public_key
  response:
    body:
      string: '{"public_key": "pk_x3JSr5eOVWNTLRej8cZDde9VQ0AT5"}'
    headers:
      cache-control:
      - private, no-cache, no-store
      content-length:
      - '49'
      content-type:
      - application/json; charset=utf-8
      expires:
      - '0'
      pragma:
      - no-cache
      referrer-policy:
      - strict-origin-when-cross-origin
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      x-backend:
      - easypost
      x-content-type-options:
      - nosniff
      x-download-options:
      - noopen
      x-ep-request-uuid:
      - 8e8eb62567c9fc1ae2b97b760018a860
      x-frame-options:
      - SAMEORIGIN
      x-node:
      - bigweb58nuq
      x-permitted-cross-domain-policies:
      - none
      x-proxied:
      - intlb4nuq 51d74985a2
      - extlb1nuq 99aac35317
      x-runtime:
      - '0.022642'
      x-version-label:
      - easypost-202503061913-8f39069a2d-master
      x-xss-protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-type:
      - application/x-www-form-urlencoded
      authorization:
      - <REDACTED>
      user-agent:
      - <REDACTED>
    method: POST
    uri: https://api.stripe.com/v1/tokens?card%5Bexp_month%5D=05&card%5Bexp_year%5D=2028
  response:
    body:
      string: '{"error": {"message": "This integration surface is unsupported for
        publishable key tokenization. To enable this surface, please go to your dashboard
        (https://dashboard.stripe.com/settings/integration). See https://support.stripe.com/questions/card-tokenization-restrictions-using-publishable-keys
        for more details", "request_log_url": "https://dashboard.stripe.com/logs/req_h4qLymbw74w7cU?t=1741290522",
        "type": "invalid_request_error"}}'
    headers:
      Access-Control-Allow-Credentials:
      - 'true'
      Access-Control-Allow-Methods:
      - GET, HEAD, PUT, PATCH, POST, DELETE
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - Request-Id, Stripe-Manage-Version, Stripe-Should-Retry, X-Stripe-External-Auth-Required,
        X-Stripe-Privileged-Session-Required
      Access-Control-Max-Age:
      - '300'
      Cache-Control:
      - no-cache, no-store
      Connection:
      - keep-alive
      Content-Length:
      - '458'
      Content-Security-Policy:
      - base-uri 'none'; default-src 'none'; form-action 'none'; frame-ancestors 'none';
        img-src 'self'; script-src 'self' 'report-sample'; style-src 'self'; worker-src
        'none'; upgrade-insecure-requests; report-uri https://q.stripe.com/csp-violation?q=0Vy5Ta2pFgzW2Ya4hl8lPGzkEN1C3IyDpB204-q3EAArRvHI8ALkzEjhMEmUL0t__fht0crtWzoPxzs_
      Content-Type:
      - application/json
      Cross-Origin-Opener-Policy-Report-Only:
      - same-origin; report-to="coop"
      Date:
      - Thu, 06 Mar 2025 19:48:42 GMT
      Idempotency-Key:
      - 4f8c8607-a9d0-4c8e-a5be-cd519b399771
      Original-Request:
      - req_h4qLymbw74w7cU
      Report-To:
      - '{"group":"coop","max_age":8640,"endpoints":[{"url":"https://q.stripe.com/coop-report"}],"include_subdomains":true}'
      Reporting-Endpoints:
      - coop="https://q.stripe.com/coop-report"
      Request-Id:
      - req_h4qLymbw74w7cU
      Server:
      - nginx
      Strict-Transport-Security:
      - max-age=63072000; includeSubDomains; preload
      Stripe-Should-Retry:
      - 'false'
      Stripe-Version:
      - '2020-08-27'
      Vary:
      - Origin
      X-Stripe-Priority-Routing-Enabled:
      - 'true'
      X-Stripe-Routing-Context-Priority-Tier:
      - livemode-critical
      X-Wc:
      - AB
    status:
      code: 400
      message: Bad Request
- request:
    body: '{"credit_card": {"stripe_object_id": "", "priority": "primary"}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '64'
      Content-Type:
      - application/json
      authorization:
      - <REDACTED>
      user-agent:
      - <REDACTED>
    method: POST
    uri: https://api.easypost.com/v2/credit_cards
  response:
    body:
      string: '{"error": {"code": "BAD_REQUEST", "message": "One of payment_method_reference
        or payment_method_id must be provided", "errors": []}}'
    headers:
      cache-control:
      - private, no-cache, no-store
      content-length:
      - '126'
      content-type:
      - application/json; charset=utf-8
      expires:
      - '0'
      pragma:
      - no-cache
      referrer-policy:
      - strict-origin-when-cross-origin
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
      x-backend:
      - easypost
      x-content-type-options:
      - nosniff
      x-download-options:
      - noopen
      x-ep-request-uuid:
      - 8e8eb62867c9fc1ae2b97b780018a8da
      x-frame-options:
      - SAMEORIGIN
      x-node:
      - bigweb57nuq
      x-permitted-cross-domain-policies:
      - none
      x-proxied:
      - intlb3nuq 51d74985a2
      - extlb1nuq 99aac35317
      x-runtime:
      - '0.078448'
      x-version-label:
      - easypost-202503061913-8f39069a2d-master
      x-xss-protection:
      - 1; mode=block
    status:
      code: 400
      message: Bad Request
version: 1
